<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ë””ì—‘ì…€ ì»¤ìŠ¤í…€ ë°ì¹¼ ë””ìì¸ í”„ë¦¬ë·° 2</title>

  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/moonspam/NanumSquareNeo@1.0/nanumsquareneo.css">

  <style>
    /* =========================================
       1. í°íŠ¸ ì •ì˜
       ========================================= */

    /* í°íŠ¸1 : í‹°ëª¬ ëª¬ì†Œë¦¬ */
    @font-face {
      font-family: 'TmonMonsori';
      src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_two@1.0/TmonMonsori.woff') format('woff');
      font-weight: normal; font-style: normal;
    }
    /* í°íŠ¸2 : ë°°ë‹¬ì˜ë¯¼ì¡± ë„í˜„ */
    @font-face {
      font-family: 'BMDOHYEON';
      src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_one@1.0/BMDOHYEON.woff') format('woff');
      font-weight: normal; font-style: normal;
    }
    /* í°íŠ¸3 : ë°°ë‹¬ì˜ë¯¼ì¡± ì£¼ì•„ */
    @font-face {
      font-family: 'BMJUA';
      src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_one@1.0/BMJUA.woff') format('woff');
      font-weight: normal; font-style: normal;
    }
    /* í°íŠ¸4 : ë°°ë‹¬ì˜ë¯¼ì¡± ì—°ì„± */
    @font-face {
      font-family: 'BMYEONSUNG';
      src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_one@1.0/BMYEONSUNG.woff') format('woff');
      font-weight: normal; font-style: normal;
    }
    /* í°íŠ¸5 : ê°•ì›êµìœ¡ëª¨ë‘ Bold */
    @font-face {
      font-family: 'GangwonEdu_OTFBoldA';
      src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2201-2@1.0/GangwonEdu_OTFBoldA.woff') format('woff');
      font-weight: normal; font-style: normal;
    }
    /* í°íŠ¸6 : ë©”ì´í”ŒìŠ¤í† ë¦¬ Light */
    @font-face {
      font-family: 'MaplestoryOTFLight';
      src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_20-04@2.1/MaplestoryOTFLight.woff') format('woff');
      font-weight: normal; font-style: normal;
    }
    /* í°íŠ¸7 : ë§ˆë£¨ ë¶€ë¦¬ */
    @font-face {
      font-family: 'MaruBuri-Regular';
      src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_20-10-21@1.0/MaruBuri-Regular.woff') format('woff');
      font-weight: normal; font-style: normal;
    }
    /* í°íŠ¸8 : ì¹´í˜24 ìŠˆí¼ë§¤ì§ Bold */
    @font-face {
      font-family: 'Cafe24Supermagic-Bold-v1.0';
      src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2307-2@1.0/Cafe24Supermagic-Bold-v1.0.woff2') format('woff2');
      font-weight: 700;
      font-style: normal;
    }
    /* í°íŠ¸9 : ë‚˜ëˆ”ì†ê¸€ì”¨ ì—°ì§€ì²´ (Yeonji) */
    @font-face {
      font-family: 'Yeonji';
      src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/naverfont_11@1.0/Yunji.woff') format('woff');
      font-weight: normal;
      font-style: normal;
    }
    /* í°íŠ¸10 : ë‚˜ëˆ”ìŠ¤í€˜ì–´ ë„¤ì˜¤ (ìƒë‹¨ ë§í¬ ì‚¬ìš©) */

    /* í°íŠ¸11 : ë°°ë‹¬ì˜ë¯¼ì¡± ì„ì§€ë¡œì²´ */
    @font-face {
      font-family: 'BMEULJIRO';
      src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_twelve@1.0/BMEULJIRO.woff') format('woff');
      font-weight: normal; font-style: normal;
    }
    /* í°íŠ¸13 : Neoë‘¥ê·¼ëª¨ Pro */
    @font-face {
      font-family: 'NeoDunggeunmoPro-Regular';
      src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2302@1.0/NeoDunggeunmoPro-Regular.woff2') format('woff2');
      font-weight: normal; font-style: normal;
    }
    /* í°íŠ¸14 : ì¡°ì„ ê¶ì„œì²´ (ChosunGs) */
    @font-face {
      font-family: 'ChosunGs';
      src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_20-04@1.0/ChosunGs.woff') format('woff');
      font-weight: normal;
      font-style: normal;
    }
    /* í°íŠ¸15 : ì¹´í˜24 ì¨ë¼ìš´ë“œ ì—ì–´ */
    @font-face {
      font-family: 'Cafe24SsurroundAir';
      src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2105_2@1.0/Cafe24SsurroundAir.woff') format('woff');
      font-weight: normal; font-style: normal;
    }

    /* =========================================
       2. ìŠ¤íƒ€ì¼ ì •ì˜
       ========================================= */
    body {
      font-family: 'NanumSquareNeo', -apple-system, sans-serif;
      max-width: 900px;
      margin: 40px auto;
      padding: 0 16px;
      line-height: 1.6;
      font-size: 15px;
      color: #333;
    }

    h1 { margin-bottom: 4px; font-size: 24px; font-weight: 700; }
    
    label { display: block; margin-top: 16px; font-weight: 600; font-size: 14px; }

    textarea, select {
      width: 100%; box-sizing: border-box; padding: 8px 10px;
      margin-top: 6px; border: 1px solid #ddd; border-radius: 6px;
      font-family: inherit; font-size: 14px;
    }
    textarea { resize: vertical; min-height: 60px; }

    /* ë¯¸ë¦¬ë³´ê¸° ë°•ìŠ¤ */
    .preview-box {
      margin-top: 14px; padding: 10px; border-radius: 8px;
      border: 1px dashed #bbb; background: #fafafa;
      width: 100%; max-width: 900px; box-sizing: border-box;
    }

    .car-wrap { position: relative; width: 100%; max-width: 900px; }
    #car-img { width: 100%; display: block; }

    /* ìœ ë¦¬ ì˜ì—­ */
    .window-overlay {
      position: absolute; left: 7%; top: 16%; width: 86%; height: 45%;
      display: flex; justify-content: flex-start; align-items: center;
      pointer-events: none; background: transparent; overflow: hidden;
      box-sizing: border-box; padding: 0 6%;
    }

    .align-group { display: flex; flex-direction: column; align-items: flex-start; }

    /* ê°€ì´ë“œ ë¼ì¸ (íŒŒìŠ¤í…” ë…¸ë‘) */
    .size-ruler-overlay {
      height: 16px; margin-bottom: 10px; position: relative; width: 100%; box-sizing: border-box;
    }
    .size-ruler-inner {
      position: relative; height: 16px; width: 100%;
    }

    .size-ruler-line {
      position: absolute;
      top: 50%;
      left: 0;
      right: 0;
      border-top: 1px solid #FFE87C;
      transform: translateY(-50%);
    }

    .size-ruler-end {
      position: absolute; top: 50%; width: 2px; height: 14px;
      background: #FFE87C;
      transform: translateY(-50%);
    }
    .size-ruler-end.left  { left: 0; }
    .size-ruler-end.right { right: 0; }

    .size-ruler-label {
      position: absolute;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      margin-top: -10px;     /* ğŸ”¹ ë¼ì¸ë³´ë‹¤ 15px ìœ„ë¡œ ì˜¬ë¦¼ */
      background: transparent;
      padding: 0 6px;
      font-size: 11px;
      color: #FFE87C;
      white-space: nowrap;
      border-radius: 4px;
    }

    #preview-text {
      white-space: pre; text-align: left; color: #ffffff;
      text-shadow: 0 0 3px rgba(0,0,0,0.5);
    }

    /* í•˜ë‹¨ ì •ë³´ */
    .size-box {
      margin-top: 10px; padding: 10px 12px; border-radius: 8px;
      border: 1px solid #e0e0e0; background: #ffffff;
      font-size: 13px; color: #333; line-height: 1.5;
    }
    .size-note, .preview-note { font-size: 12px; color: #777; margin-top: 6px; }

    #measure-span {
      position: absolute; visibility: hidden; left: -9999px; top: -9999px; white-space: pre;
    }

    /* =========================================
       3. ë“œë¡­ë‹¤ìš´ ë‚´ë¶€ ë¯¸ë¦¬ë³´ê¸°
       ========================================= */
    option[value="font1"]  { font-family: 'TmonMonsori', sans-serif; }
    option[value="font2"]  { font-family: 'BMDOHYEON',   sans-serif; }
    option[value="font3"]  { font-family: 'BMJUA',       sans-serif; }
    option[value="font4"]  { font-family: 'BMYEONSUNG',  sans-serif; }
    option[value="font5"]  { font-family: 'GangwonEdu_OTFBoldA', sans-serif; }
    option[value="font6"]  { font-family: 'MaplestoryOTFLight',  sans-serif; }
    option[value="font7"]  { font-family: 'MaruBuri-Regular',    serif; }
    option[value="font8"]  { font-family: 'Cafe24Supermagic-Bold-v1.0', sans-serif; }
    option[value="font9"]  { font-family: 'Yeonji', sans-serif; font-weight: bold; }
    option[value="font10"] { font-family: 'NanumSquareNeo', sans-serif; font-weight: 800; }
    option[value="font11"] { font-family: 'BMEULJIRO',     sans-serif; }
    option[value="font13"] { font-family: 'NeoDunggeunmoPro-Regular', monospace; }
    option[value="font14"] { font-family: 'ChosunGs',      serif; font-weight: 600; }
    option[value="font15"] { font-family: 'Cafe24SsurroundAir', sans-serif; font-weight: 700; }

  </style>
</head>
<body>
  <h1>ë””ì—‘ì…€ ì»¤ìŠ¤í…€ ë°ì¹¼ ë””ìì¸ í”„ë¦¬ë·° II</h1>

  <label>
    ë¬¸êµ¬ì…ë ¥
    <span style="font-weight:400; font-size:12px; color:#666;">
      [ë„ì–´ì“°ê¸°, ì´ëª¨í‹°ì½˜, íŠ¹ìˆ˜ë¬¸ì, ì¤„ë°”ê¿ˆ /(ìŠ¬ë˜ì‹œ) í¬í•¨ ì´ 20ì ê¹Œì§€ ì…ë ¥ê°€ëŠ¥í•©ë‹ˆë‹¤]
    </span>
    <textarea id="text-input" maxlength="20" placeholder="ìŠ¬ë˜ì‹œ / = ì¤„ë°”ê¿ˆ"></textarea>
  </label>

  <label>
    ì‚¬ì´ì¦ˆ
    <select id="width-select">
      <option value="25">ê¸°ë³¸ (ê°€ë¡œ 25cm)</option>
      <option value="30">ì¤‘í˜• (ê°€ë¡œ 30cm)</option>
      <option value="40">ëŒ€í˜• (ê°€ë¡œ 40cm)</option>
    </select>
  </label>

  <label>
    ê¸€ì”¨ì²´
    <select id="font-select">
      <option value="font1">1ë²ˆ ê¸€ì”¨ì²´ - ê°€ë‚˜ë‹¤ë¼ ABCY abcy 1234</option>
      <option value="font2">2ë²ˆ ê¸€ì”¨ì²´ - ê°€ë‚˜ë‹¤ë¼ ABCY abcy 1234</option>
      <option value="font3">3ë²ˆ ê¸€ì”¨ì²´ - ê°€ë‚˜ë‹¤ë¼ ABCY abcy 1234</option>
      <option value="font4">4ë²ˆ ê¸€ì”¨ì²´ - ê°€ë‚˜ë‹¤ë¼ ABCY abcy 1234</option>
      <option value="font5">5ë²ˆ ê¸€ì”¨ì²´ - ê°€ë‚˜ë‹¤ë¼ ABCY abcy 1234</option>
      <option value="font6">6ë²ˆ ê¸€ì”¨ì²´ - ê°€ë‚˜ë‹¤ë¼ ABCY abcy 1234</option>
      <option value="font7">7ë²ˆ ê¸€ì”¨ì²´ - ê°€ë‚˜ë‹¤ë¼ ABCY abcy 1234</option>
      <option value="font8">8ë²ˆ ê¸€ì”¨ì²´ - ê°€ë‚˜ë‹¤ë¼ ABCY abcy 1234</option>
      <option value="font9">9ë²ˆ ê¸€ì”¨ì²´ - ê°€ë‚˜ë‹¤ë¼ ABCY abcy 1234</option>
      <option value="font10">10ë²ˆ ê¸€ì”¨ì²´ - ê°€ë‚˜ë‹¤ë¼ ABCY abcy 1234</option>
      <option value="font11">11ë²ˆ ê¸€ì”¨ì²´ - ê°€ë‚˜ë‹¤ë¼ ABCY abcy 1234</option>
      <option value="font13">13ë²ˆ ê¸€ì”¨ì²´ - ê°€ë‚˜ë‹¤ë¼ ABCY abcy 1234</option>
      <option value="font14">14ë²ˆ ê¸€ì”¨ì²´ - ê°€ë‚˜ë‹¤ë¼ ABCY abcy 1234</option>
      <option value="font15">15ë²ˆ ê¸€ì”¨ì²´ - ê°€ë‚˜ë‹¤ë¼ ABCY abcy 1234</option>
    </select>
  </label>

  <label>
    ì •ë ¬
    <select id="align-select">
      <option value="left" selected>ì¢Œì¸¡ì •ë ¬</option>
      <option value="right">ìš°ì¸¡ì •ë ¬</option>
      <option value="center">ì¤‘ì•™ì •ë ¬</option>
    </select>
  </label>

  <div id="preview-box" class="preview-box">
    <div class="car-wrap">
      <img id="car-img" src="ì˜ë Œí†  ì´ë¯¸ì§€ 1900.jpg" alt="ì°¨ëŸ‰ ì´ë¯¸ì§€">

      <div id="window-overlay" class="window-overlay">
        <div id="align-group" class="align-group">
          <div id="size-ruler-overlay" class="size-ruler-overlay">
            <div class="size-ruler-inner">
              <div class="size-ruler-line"></div>
              <div class="size-ruler-end left"></div>
              <div class="size-ruler-end right"></div>
              <div class="size-ruler-label" id="size-ruler-label">ê°€ë¡œ 25cm</div>
            </div>
          </div>
          <div id="preview-text">ë¯¸ë¦¬ë³´ê¸°</div>
        </div>
      </div>
    </div>
  </div>

  <div class="preview-note">
    ì˜ˆì‹œì°¨ëŸ‰ : ê¸°ì•„ ì˜ë Œí†  MQ4 PE<br>
    *í™”ë©´ì—ì„œ ë³´ì´ëŠ” ì°¨ëŸ‰ê³¼ ì œí’ˆì˜ ë¹„ìœ¨ì€ ì‹¤ì œì™€ ì°¨ì´ê°€ ìˆì„ ìˆ˜ ìˆìœ¼ë‹ˆ, ì°¸ê³ ìš©ìœ¼ë¡œ í™•ì¸í•´ ì£¼ì„¸ìš”.<br>
  </div>

  <div id="size-box" class="size-box">
    <div id="size-width">ê°€ë¡œ ì‚¬ì´ì¦ˆ : - cm</div>
    <div id="size-height">ì„¸ë¡œ ì‚¬ì´ì¦ˆ : - cm</div>
    <div class="size-note">
      *ì„¸ë¡œì˜ ì‚¬ì´ì¦ˆëŠ” ì¶”ì •ì¹˜ë¡œ ê³„ì‚°ëœ ìˆ˜ì¹˜ì´ë¯€ë¡œ ì‹¤ì œí¬ê¸°ì™€ ë‹¤ì†Œ ì°¨ì´ê°€ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. (ë²”ìœ„ : Â± 1~4cm)
    </div>
  </div>

  <span id="measure-span"></span>

  <script>
    const textInput        = document.getElementById("text-input");
    const fontSelect       = document.getElementById("font-select");
    const widthSelect      = document.getElementById("width-select");
    const alignSelect      = document.getElementById("align-select");
    const measureSpan      = document.getElementById("measure-span");
    const previewText      = document.getElementById("preview-text");
    const sizeRulerLabel   = document.getElementById("size-ruler-label");
    const sizeRulerOverlay = document.getElementById("size-ruler-overlay");
    const sizeBoxWidth     = document.getElementById("size-width");
    const sizeBoxHeight    = document.getElementById("size-height");
    const carImg           = document.getElementById("car-img");
    const alignGroup       = document.getElementById("align-group");
    const windowOverlay    = document.getElementById("window-overlay");

    const LINE_HEIGHT_RATIO = 1.1;
    const CAR_REAL_WIDTH_CM = 190;

    function getSelectedFontConfig() {
      const val = fontSelect.value;
      let family = "'NanumSquareNeo', sans-serif";
      let weight = "normal";

      if (val === "font1")  family = "'TmonMonsori', sans-serif";
      if (val === "font2")  family = "'BMDOHYEON', sans-serif";
      if (val === "font3")  family = "'BMJUA', sans-serif";
      if (val === "font4")  family = "'BMYEONSUNG', sans-serif";
      if (val === "font5")  family = "'GangwonEdu_OTFBoldA', sans-serif";
      if (val === "font6")  family = "'MaplestoryOTFLight', sans-serif";
      if (val === "font7")  { family = "'MaruBuri-Regular', serif"; weight = "bold"; }
      if (val === "font8")  { family = "'Cafe24Supermagic-Bold-v1.0', sans-serif"; weight = "700"; }
      if (val === "font9")  { family = "'Yeonji', sans-serif"; weight = "bold"; }
      if (val === "font10") { family = "'NanumSquareNeo', sans-serif"; weight = "800"; }
      if (val === "font11") family = "'BMEULJIRO', sans-serif";
      if (val === "font13") family = "'NeoDunggeunmoPro-Regular', monospace";
      if (val === "font14") { family = "'ChosunGs', serif"; weight = "600"; }
      if (val === "font15") { family = "'Cafe24SsurroundAir', sans-serif"; weight = "700"; }

      return { family, weight };
    }

    function recompute() {
      let raw = textInput.value || "";
      if (raw.length > 20) {
        raw = raw.substring(0, 20);
        textInput.value = raw;
      }
      const processed = raw.replace(/\//g, "\n");
      
      const { family, weight } = getSelectedFontConfig();

      fontSelect.style.fontFamily = family;
      fontSelect.style.fontWeight = weight;

      previewText.style.fontFamily = family;
      previewText.style.fontWeight = weight;
      
      measureSpan.style.fontFamily = family;
      measureSpan.style.fontWeight = weight;

      const carW = carImg.getBoundingClientRect().width;
      if (!carW) return;

      const selCm   = parseFloat(widthSelect.value);
      const pxPerCm = carW / CAR_REAL_WIDTH_CM;
      const targetPx = pxPerCm * selCm;

      const align = alignSelect.value;
      if (align === 'left') {
        windowOverlay.style.justifyContent = 'flex-start';
        alignGroup.style.alignItems = 'flex-start';
        previewText.style.textAlign = 'left';
        alignGroup.style.marginLeft = '60px'; alignGroup.style.marginRight = '0';
      } else if (align === 'right') {
        windowOverlay.style.justifyContent = 'flex-end';
        alignGroup.style.alignItems = 'flex-end';
        previewText.style.textAlign = 'right';
        alignGroup.style.marginRight = '60px'; alignGroup.style.marginLeft = '0';
      } else {
        windowOverlay.style.justifyContent = 'center';
        alignGroup.style.alignItems = 'center';
        previewText.style.textAlign = 'center';
        alignGroup.style.marginLeft = '0'; alignGroup.style.marginRight = '0';
      }

      const pureText = processed.replace(/\n/g, "");
      if (pureText.length < 2) {
        previewText.style.fontSize = "14px";
 previewText.style.fontFamily = "'NanumSquareNeo', sans-serif";
  previewText.style.fontWeight = "750";  // ë‚˜ëˆ”ìŠ¤í€˜ì–´ ë„¤ì˜¤ OTF ëŠë‚Œ(ë³´í†µ)
        previewText.textContent = "ë‘ ê¸€ìë¶€í„° ë¯¸ë¦¬ë³´ê¸° ê°€ëŠ¥";
        alignGroup.style.width = targetPx + "px";
        sizeRulerOverlay.style.width = "100%";
        sizeRulerLabel.textContent = `ê°€ë¡œ ${selCm}cm`;
        sizeBoxWidth.textContent = "ê°€ë¡œ : -";
        sizeBoxHeight.textContent = "ì„¸ë¡œ : -";
        return;
      }

      const finalSize = findFontSize(processed, family, weight, targetPx);
      previewText.style.fontSize = finalSize + "px";
      previewText.style.lineHeight = (finalSize * LINE_HEIGHT_RATIO) + "px";
      previewText.textContent = processed || "ë¯¸ë¦¬ë³´ê¸°";

      measureSpan.style.fontSize = finalSize + "px";
      measureSpan.style.lineHeight = (finalSize * LINE_HEIGHT_RATIO) + "px";
      measureSpan.textContent = processed;
      
      const rect = measureSpan.getBoundingClientRect();
      alignGroup.style.width = rect.width + "px";
      
      sizeRulerOverlay.style.width = "100%";
      sizeRulerLabel.textContent = `ê°€ë¡œ ${selCm}cm`;

      const realH = rect.height * (CAR_REAL_WIDTH_CM / carW);
      sizeBoxWidth.textContent  = `ê°€ë¡œ ì‚¬ì´ì¦ˆ : ${selCm} cm`;
      sizeBoxHeight.textContent = `ì„¸ë¡œ ì‚¬ì´ì¦ˆ : ${realH.toFixed(1)} cm`;
    }

    function findFontSize(text, family, weight, targetWidth) {
      let low = 1, high = 500, best = 10;
      for (let i = 0; i < 20; i++) {
        let mid = (low + high) / 2;
        measureSpan.style.fontSize   = mid + "px";
        measureSpan.style.fontFamily = family;
        measureSpan.style.fontWeight = weight;
        measureSpan.textContent      = text;
        if (measureSpan.getBoundingClientRect().width > targetWidth) high = mid;
        else { best = mid; low = mid; }
      }
      return best;
    }

    textInput.addEventListener("input",  recompute);
    fontSelect.addEventListener("change", recompute);
    widthSelect.addEventListener("change", recompute);
    alignSelect.addEventListener("change", recompute);
    window.addEventListener("resize",    recompute);
    carImg.addEventListener("load",      recompute);
    window.onload = recompute;
  </script>
</body>
</html>
